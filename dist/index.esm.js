import{createMutableSource as e,useCallback as t,useMutableSource as r,useLayoutEffect as n,useEffect as a,useRef as o,useDebugValue as c}from"react";import{isDeepChanged as u,createDeepProxy as i,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED as f,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP as d,MODE_IGNORE_REF_EQUALITY as p}from"proxy-compare";export{getUntrackedObject,trackMemo}from"proxy-compare";var s=function(t){var r=e(t,function(){return t.getState()});return t.mutableSource=r,t},m=function(e,t){return e.subscribe(t)},v=function(e,n){var a=e.mutableSource,o=t(function(e){return n(e.getState())},[n]);return r(a,o,m)},g="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?a:n,b=f|d,S=p,w=f,l=function(e,n){void 0===n&&(n={});var f=e.mutableSource,d=new WeakMap,p=o(),s=t(function(e){var t=e.getState(),r=p.current;return r?r.affected!==d||r.state===t||u(r.state,t,r.affected,r.cache,r.mode)?t:r.state:t},[d]),v=r(f,s,m);g(function(){p.current={state:v,affected:d,cache:new WeakMap,mode:n.unstable_forceUpdateForStateChange?0:n.unstable_ignoreIntermediateObjectUsage?b:n.unstable_ignoreStateEquality?S:w}}),"production"!==process.env.NODE_ENV&&function(e,t){var r=o();a(function(){r.current=function(e,t){var r=[];return function e(n,a){var o=t.get(n);o?o.forEach(function(t){e(n[t],a?[].concat(a,[t]):[t])}):a&&r.push(a)}(e),r}(e,t)}),c(r)}(v,d);var l=o(new WeakMap);return i(v,d,l.current)};export{s as patchStore,v as useSelector,l as useTrackedState};
//# sourceMappingURL=index.esm.js.map
