import{createMutableSource as t,useCallback as r,useMutableSource as e,useRef as n,useEffect as u,useDebugValue as o,useMemo as a,memo as c,createElement as i}from"react";import{createDeepProxy as f,isDeepChanged as p,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED as m,MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP as v,MODE_IGNORE_REF_EQUALITY as l,trackMemo as b}from"proxy-compare";export{getUntrackedObject}from"proxy-compare";var s=function(r){var e=t(r,function(){return r.getState()});return r.mutableSource=e,r},g=function(t,r){return t.subscribe(r)},S=function(t,n){var u=t.mutableSource,o=r(function(t){return n(t.getState())},[n]);return e(u,o,g)},d=m|v,E=l,h=m,k=function(t,r){void 0===r&&(r={});var c=t.mutableSource,i=new WeakMap,m=r.unstable_forceUpdateForStateChange?0:r.unstable_ignoreIntermediateObjectUsage?d:r.unstable_ignoreStateEquality?E:h,v=a(function(){var t=null,r=new WeakMap;return function(e){var n=e.getState();return null===t||t===n||p(t,n,i,r,m)?(t=n,n):t}},[i,m]),l=e(c,v,g);"production"!==process.env.NODE_ENV&&function(t,r){var e=n();u(function(){e.current=function(t,r){var e=[];return function t(n,u){var o=r.get(n);o?o.forEach(function(r){t(n[r],u?[].concat(u,[r]):[r])}):u&&e.push(u)}(t),e}(t,r)}),o(e.current)}(l,i);var b=a(function(){return new WeakMap},[]);return f(l,i,b)},x=function(t,r){return c(function(r){return Object.values(r).forEach(b),i(t,r)},r)};export{x as memo,s as patchStore,S as useSelector,k as useTrackedState};
//# sourceMappingURL=index.esm.js.map
